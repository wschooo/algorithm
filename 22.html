<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //등수구하기
        /*내풀이
        function solution(a){  
            let answer = [];
            let rank = 1;
                for(let i = 0; i<a.length; i++){
                    for(let j = 0; j<a.length; j++){
                        if(a[j] > a[i]){
                            rank++;
                            answer.push(rank);
                        }
                    }
                }
                return answer;
            }

            let arr=[87, 89, 92, 100, 76];
            console.log(solution(arr));
            //배열 출력이 안되는 문제 발생(해결), answer.push다음 [](대괄호)를 썼음
            //요소가 10개 출력되는 문제 발생
            //a[i]를 기준으로 a[j]가 반복으로 돌 때, 모든 반복이 끝난 후 a[j] > a[i]를 만족하는 경우가 10개가 존재함을 발견
            */

            /*수정한 풀이
            function solution(a){
                let answer = [];
                let rank = 1;
                for(let i = 0; i<a.length; i++){
                    for(let j = 0; j<a.length; j++){
                        if(a[j] > a[i]){
                            rank++;
                            //answer.push(rank); 여기서 빈배열에 요소를 푸시하면, a[j] > a[i]를 만족하는 모든 경우가 푸시 됨. a[i]의 등수는 이중반복이 돌고 모든 비교가 끝난 후 요소 하나만 푸시해야 함
                        }
                    }
                    answer.push(rank);
                }  
                        
                return answer;
            }

            let arr=[87, 89, 92, 100, 76];
            console.log(solution(arr));
            //배열의 요소 개수는 알맞게 출력되지만 등수(rank)가 틀림
            */

            /*최종수정 풀이
            function solution(a){
                let answer = [];
                //let rank = 1; , 반복문 밖에 rank값이 위치해있으면 반복문이 돌면서 rank값은 초기화 되지 않고 계속 누적 됨
                for(let i = 0; i<a.length; i++){
                    let rank = 1; // 해당 위치에 rank 변수를 넣어줘야 이중반복하며 구해진 rank값이 다시 등수의 기준점인 1로 초기화 됨. 예를 들어, 반복문 바깥에 위치해있고 배열의 첫 요소가 4등(4)이라면 rank값은 1이 아닌 4를 기준으로 출력되는 것임.
                    for(let j = 0; j<a.length; j++){
                        if(a[j] > a[i]){
                            rank++;
                        }
                    }
                    answer.push(rank);
                }  
                        
                return answer;
            }

            let arr=[87, 89, 92, 100, 76];
            console.log(solution(arr));
            */

            //해설코드
            function solution(a){
                let n = a.length;
                let answer = Array.from({length: n}, ()=> 1); //1차원 배열 초기화( Array.from({배열길이}, 콜백함수); ): 길이가 n이며 요소값을 1로 초기화 시키는(콜백함수) 새로운 배열을 출력  
                for(let i = 0; i < n; i++){
                    for(let j = 0; j < n; j++){
                        if(a[j] > a[i]){
                            answer[i]++;
                        }
                    }
                }    
                return answer;
            }

            let arr=[87, 87, 87, 100, 76];
            console.log(solution(arr));
        </script>
</body>
</html>