<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //4.완전탐색
        //자릿수의 합
        /*내풀이
        function solution(n, a){
                let sv = [];
                //각 자릿수의 합 구하기
                for(let i of a){
                    let sum = 0;
                    while(i){
                        sum += (i % 10);
                        i = Math.floor(i / 10);
                    }
                    sv.push(sum);
                }

                return sv;
            }
            
            let arr=[128, 460, 603, 40, 521, 137, 123];
            console.log(solution(7, arr));

            //각 자릿수의 합(sum)을 배열로 return
            //어떻게 sum과 원래의 입력예제의 숫자를 연결 시켜서 
            //만약 sum값이 중복된다면 둘 중 더 큰 숫자를 return??
            */

            
            /*해설코드
            function solution(n, arr){
                let answer, max = Number.MIN_SAFE_INTEGER;
                for(let x of arr){
                    let sum = 0, tmp = x;
                    while(tmp){
                        sum += (tmp % 10);
                        tmp = Math.floor(tmp / 10);
                    }
                    if(sum > max){
                        max = sum;
                        answer = x;
                    }
                    else if(sum === max){
                        if(x > answer){
                            answer = x;
                        }
                    }
                }
                return answer;
            }
            
            let arr=[460, 128, 603, 40, 521, 137, 123];
            console.log(solution(7, arr));
            */

            /*내장함수를 활용한 해설코드
            function solution(n, arr){
                let answer, max = Number.MIN_SAFE_INTEGER;
                for(let x of arr){
                let sum = x.toString().split('').reduce((a,b) => a + Number(b),0);
                if(sum > max){
                        max = sum;
                        answer = x;
                    }
                    else if(sum === max){
                        if(x > answer){
                            answer = x;
                        }
                }
            }
                return answer;
            }
        
            let arr=[460, 128, 603, 40, 521, 137, 123];
            console.log(solution(7, arr));
            */


            /*재풀이
            function solution(n, a){
                    let answer = '';
                    let max = Number.MIN_SAFE_INTEGER; //sum값 중 최대값을 저장할 변수
                for(let i of a){
                    let sum = 0 // 각 자릿수의 합을 저장할 변수를 생성
                    let tmp = i // while문을 돌면서 i는 가장 마지막에 0이 되므로, i를 대신할 변수를 하나 더 생성
                    // answer값이 결국 배열의 요소 중 하나가 되기 때문에 원래 요소값을 보존하는 용도
                    while(tmp){
                        sum += tmp % 10;
                        tmp = Math.floor(tmp / 10);
                    }
                    if(sum > max){
                        max = sum; //max의 초기값을 MIN_SAFE_INTEGER로 할당한 이유
                        answer = i;
                    }
                    else if(sum === max){
                        if( i > answer){
                            answer = i; //혹은 if문 대신 answer = Math.max(answer, i); 도 될 것 같음
                        }
                    }
                }
                return answer;
            }
        
            let arr=[460, 128, 603, 40, 521, 137, 123];
            console.log(solution(7, arr));
            */

            //재풀이(내장함수 활용)
            function solution(n, arr){
                    let answer = '';
                    let max = Number.MIN_SAFE_INTEGER;
                   for(let i of arr){
                       //탐색을 하면서 처음부터 각 자릿수의 합(sum)을 산출하기 위해
                       //배열의 요소를 toString()으로 문자열로 만들고
                       //split('')을 사용하여 한자리 한자리 다시 배열화를 한 이후
                       //배열에서 특정 값(각 자릿수의 합)을 뽑아내기 위해 reduce를 사용  
                        let sum = i.toString().split('').reduce((a, b) => Number(a) + Number(b));
                        if( sum > max){
                            max = sum;
                            answer = i;
                        }
                        else if( sum === max){
                            answer = Math.max(answer, i);
                        }
                   }
                return answer;
            }
        
            let arr=[460, 128, 603, 40, 521, 137, 123];
            console.log(solution(7, arr));

    </script>
</body>
</html>