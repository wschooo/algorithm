<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //3.문자열 탐색
        //문자열 압축
        /*내풀이
        function solution(s){
                let answer = '';
                let count = 1;
                for(let i = 1; i < s.length; i++){
                    if(s[i-1] === s[i]){
                        count++;
                }
                    else {
                        count = 1;
                    }
                    if(count > 1){
                        answer += s[i] + count;
                        }
                        else{
                            answer += s[i];
                        }
                }   
                return answer;
                }
            //count가 1보다 크기만 하면 문자열 옆에 출력되므로 출력조건에 맞지 않음
            //반복되는 문자열을 제거하고 가장 큰 count하나만 남겨야 함
            let str="KKHSSSSSSSE";
            console.log(solution(str));
            */


            /*재풀이
            function solution(s){
                let answer = '';
                let count = 1;
                for(let i = 1; i < s.length + 1; i++){ // 2. 이전 문자열과 비교하는 것이므로 마지막 문자열 출력을 위해  < s.length 수정
                    if(s[i-1] === s[i]){
                        count++;
                    }
                    else if(s[i-1] !== s[i] && count > 1) {
                        answer += s[i-1] + count;
                        count = 1;
                    }
                    else {
                        answer += s[i-1]; // 1. 마지막 문자열(E)가 안나옴
                    }
                }
                return answer;
                }
            
            let str="KKHSSSSSSSE";
            console.log(solution(str));
            */

            /*최종풀이
            //이전 문자열이 아닌 현재문자열 기준 다음문자열과 비교
            function solution(s){
                let answer = '';
                let count = 1;
                for(let i = 0; i < s.length; i++){
                    if(s[i] === s[i + 1]){
                        count++;
                    }
                    else if(s[i] !== s[i+1] && count > 1){
                        answer += s[i] + count;
                        count = 1;
                    }
                    else{
                        answer += s[i];
                    }
                }
                return answer;
            }
            
            let str="KKHSSSSSSSE";
            console.log(solution(str));
            */
            
            //해설코드
            function solution(s){
                let answer = '';
                let cnt = 1;
                s = s + ' ';
                for(let i = 0; i < s.length - 1; i++){
                    if(s[i] === s[i+1]){
                        cnt++;
                    }
                    else {
                        answer += s[i];
                        if(cnt > 1){
                            answer += String(cnt); //문자열 + 숫자의 형태이므로 안전하게 숫자를 문자열로 바꿔서(String) 누적
                            cnt = 1;
                        }
                    }
                }
                return answer;
                }
            let str="KKHSSSSSSSE";
            console.log(solution(str));
            
    </script>
</body>
</html>